import numpy as np
import matplotlib.pyplot as plt

# Define the provided data
r = np.array([
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 254, 255, 255, 254, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255],
   [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
   [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
   [255, 255, 255, 0, 0, 255, 255, 17, 17, 255, 255, 0, 0, 255, 255, 255],
   [255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255],
   [255, 255, 0, 0, 255, 255, 254, 255, 255, 254, 255, 255, 0, 0, 255, 255],
   [255, 253, 0, 1, 255, 255, 255, 255, 255, 255, 255, 255, 1, 0, 253, 255],
   [255, 255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255],
   [255, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 0, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 16, 10, 0, 0, 10, 16, 255, 255, 255, 255, 255]
])
b = np.array([
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 254, 255, 255, 254, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255],
   [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
   [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
   [255, 255, 255, 0, 0, 255, 255, 17, 17, 255, 255, 0, 0, 255, 255, 255],
   [255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255],
   [255, 255, 0, 0, 255, 255, 254, 255, 255, 254, 255, 255, 0, 0, 255, 255],
   [255, 253, 0, 1, 255, 255, 255, 255, 255, 255, 255, 255, 1, 0, 253, 255],
   [255, 255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255],
   [255, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 0, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 16, 10, 0, 0, 10, 16, 255, 255, 255, 255, 255]
])
g = np.array([
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 254, 255, 255, 254, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255],
   [255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255],
   [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
   [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
   [255, 255, 255, 0, 0, 255, 255, 17, 17, 255, 255, 0, 0, 255, 255, 255],
   [255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255],
   [255, 255, 0, 0, 255, 255, 254, 255, 255, 254, 255, 255, 0, 0, 255, 255],
   [255, 253, 0, 1, 255, 255, 255, 255, 255, 255, 255, 255, 1, 0, 253, 255],
   [255, 255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255],
   [255, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 0, 255, 255, 255, 255],
   [255, 255, 255, 255, 255, 16, 10, 0, 0, 10, 16, 255, 255, 255, 255, 255]
])

rinsert = []
binsert = []
ginsert = []
counter = 0

#Setup up file and open
file = "C:/Users/jsalm/OneDrive/Projects/Verilog-UVM-Systemverilog/Multicore_Processor/Pingu/pingu.txt"
with open(file,'r') as file:
    for line in file:

        if line.startswith('1') or line.startswith('0'):

            if(counter % 16 != 0 or counter == 0):
                binsert.append(int(line[24:32],2))
                ginsert.append(int(line[16:24],2))
                rinsert.append(int(line[8:16],2))

            elif(counter % 16 == 0):
                val = 16 - (counter/16)
                b[int(val)] = binsert
                r[int(val)] = rinsert
                g[int(val)] = ginsert
                binsert = []
                ginsert = []
                rinsert = []
                binsert.append(int(line[8:16],2))
                ginsert.append(int(line[16:24],2))
                rinsert.append(int(line[24:32],2))

            counter += 1

        elif line.startswith('#'):

            #Reset count
            counter = 0
            rinsert = []
            binsert = []
            ginsert = []    
            
            # Combine the red, green, and blue channels into an RGB image
            rgbImage = np.dstack((r, g, b))
            print(r,g,b)

            # Display the RGB image
            plt.imshow(rgbImage)
            plt.axis('off')  # Turn off axis labels and ticks
            plt.show()
            r = np.array([
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 254, 255, 255, 254, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255],
               [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
               [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
               [255, 255, 255, 0, 0, 255, 255, 17, 17, 255, 255, 0, 0, 255, 255, 255],
               [255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255],
               [255, 255, 0, 0, 255, 255, 254, 255, 255, 254, 255, 255, 0, 0, 255, 255],
               [255, 253, 0, 1, 255, 255, 255, 255, 255, 255, 255, 255, 1, 0, 253, 255],
               [255, 255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255],
               [255, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 0, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 16, 10, 0, 0, 10, 16, 255, 255, 255, 255, 255]
            ])
            b = np.array([
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 254, 255, 255, 254, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255],
               [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
               [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
               [255, 255, 255, 0, 0, 255, 255, 17, 17, 255, 255, 0, 0, 255, 255, 255],
               [255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255],
               [255, 255, 0, 0, 255, 255, 254, 255, 255, 254, 255, 255, 0, 0, 255, 255],
               [255, 253, 0, 1, 255, 255, 255, 255, 255, 255, 255, 255, 1, 0, 253, 255],
               [255, 255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255],
               [255, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 0, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 16, 10, 0, 0, 10, 16, 255, 255, 255, 255, 255]
            ])
            g = np.array([
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 254, 255, 255, 254, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255],
               [255, 255, 255, 255, 0, 0, 255, 255, 255, 255, 0, 0, 255, 255, 255, 255],
               [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
               [255, 254, 255, 255, 0, 255, 0, 255, 255, 0, 255, 0, 255, 255, 254, 255],
               [255, 255, 255, 0, 0, 255, 255, 17, 17, 255, 255, 0, 0, 255, 255, 255],
               [255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255],
               [255, 255, 0, 0, 255, 255, 254, 255, 255, 254, 255, 255, 0, 0, 255, 255],
               [255, 253, 0, 1, 255, 255, 255, 255, 255, 255, 255, 255, 1, 0, 253, 255],
               [255, 255, 255, 0, 0, 255, 255, 255, 255, 255, 255, 0, 0, 255, 255, 255],
               [255, 255, 255, 255, 0, 255, 255, 255, 255, 255, 255, 0, 255, 255, 255, 255],
               [255, 255, 255, 255, 255, 16, 10, 0, 0, 10, 16, 255, 255, 255, 255, 255]
            ])

